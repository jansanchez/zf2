(function(){var b,a={}.hasOwnProperty;window.gMap=b=(function(){function c(f,d,e){this.obj=f;this.services=d;this.async=e;this.debug=true;this.services=this.services||"basic";this.async=this.async||false;this.markers={};this.nspace=google.maps;this.registerMethod=[]}c.prototype.f=function(d){this.opts=d;this.opts.zoom=this.opts.zoom||8;this.opts.lt=this.opts.lt||-8.59087;this.opts.lg=this.opts.lg||-77.1025;this.opts.center=new this.nspace.LatLng(this.opts.lt,this.opts.lg);this.opts.mapTypeId=this.opts.type||this.nspace.MapTypeId.ROADMAP;return this.opts.streetViewControl=this.opts.streetViewControl||true};c.prototype.evt=function(d){return this.gMethodAdd({method:"evt",params:d,func:function(h,g){var f,e;e=[];for(f in d){e.push(g.nspace.event.addListener(g.map,f,d[f]))}return e}})};c.prototype.render=function(){if(this.async){return this.asyncJS()}else{return this.dispatch()}};c.prototype.dispatch=function(){var k,d,f,h,j,g,l,i,e;if(this.nspace===void 0){throw"la carga de google maps a fallado o es una version no soportada"}if(document.getElementById(this.obj)!==null){j=document.getElementById(this.obj);if(!this.hasOwnProperty("map")){this.map=new this.nspace.Map(j,this.opts)}i=this.registerMethod;e=[];for(g=0,l=i.length;g<l;g+=1){k=i[g];d=k.method;f=k.params;h=k.status;if(h){k.func(f,this);e.push(k.status=0)}else{e.push(void 0)}}return e}else{throw"el objeto map no existe en el documento"}};c.prototype.marker=function(d){return this.gMethodAdd({method:"marker",params:d,func:function(k,i){var h,e,g,j,f;j={};if(!d.hasOwnProperty("position")){j.position=new i.nspace.LatLng(d.lt||-8.59087,d.lg||-77.1025)}else{j.position=d.position}j.title=d.title||"";j.map=i.map;j.draggable=d.draggable||false;j.icon=d.icon;j.id=d.id;j.fixed=d.fixed||false;e=new i.nspace.Marker(j);h=e;i.markers[j.id]=e;e.gmap=i;e.data=k.data||"";f=[];for(g in d.evts){f.push(i.nspace.event.addListener(e,g,d.evts[g]))}return f}})};c.prototype.getMarker=function(d){return this.markers[d]};c.prototype.cleanMarkers=function(){return this.gMethodAdd({method:"cleanMarkers",params:"",func:function(g,f){var e,d;window.eee=f.markers;d=[];for(e in f.markers){if(f.markers[e].fixed===false){f.markers[e].setMap(null);d.push(delete f.markers[e])}else{d.push(void 0)}}return d}})};c.prototype.relocateMarker=function(d){return this.gMethodAdd({method:"relocate",params:{markerId:d},func:function(f,e){return e.markers[f.markerId].setMap(e.map)}})};c.prototype.getAllMarkers=function(f){var e,g,h,d;e=f.exceptional||[];console.log(e);h=this.markers;d=[];for(g in h){if(!a.call(h,g)){continue}if(e.indexOf(this.markers[g].id)===-1){d.push(this.markers[g])}else{d.push(void 0)}}return d};c.prototype.geocode=function(d){return this.gMethodAdd({method:"geocode",params:d,func:function(h,g){var i,f,e;f=new g.nspace.Geocoder();i=h.callback;if(h.hasOwnProperty("lt")&&h.hasOwnProperty("lg")){h.latLng=new google.maps.LatLng(h.lt,h.lg)}if(h.useMarker){e=g.markers[h.useMarker]}delete h.lt;delete h.lg;delete h.callback;delete h.useMarker;return f.geocode(h,function(k,j){return i(k,j,{gmap:g,marker:e})})}})};c.prototype.gplaces=function(d){return this.gMethodAdd({method:"gplace",params:d,func:function(g,f){var e;e=new f.nspace.places.PlacesService(f.map);return e.search({location:f.map.getCenter(),radius:d.radius,types:d.types},g.callback)}})};c.prototype.asyncJS=function(){console.log("load gmaps asÃ­ncrono");return this.u.loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true",this.dispatch)};c.prototype.gMethodAdd=function(d){d.status=1;this.registerMethod.push(d);return this.dispatch()};c.prototype.mapa=function(){return this.map};c.prototype.latLng=function(e,d){return new this.nspace.LatLng(e,d)};c.prototype.info=function(){return new this.nspace.InfoWindow()};return c})()}).call(this);
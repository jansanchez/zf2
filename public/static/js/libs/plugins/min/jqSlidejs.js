(function(c){function a(d,e){return((d-(d%e))/e)}var b=function(f,d){var e={width:"auto",height:"auto",responsive:true,nav:true,separate:"auto",nwidth:"auto",slides:".slids",content:"control-slids",duration:600,easing:"",callback:{start:null,complete:null,loaded:null},num:4};this.settings=c.extend(e,d);this.$this=f;this.settings.width=(this.settings.width=="auto")?f.width():this.settings.width;this.settings.height=(this.settings.height=="auto")?f.height():this.settings.height;this.settings.initheight=this.settings.height;this.settings.totalw=0;this.arquitect={"control-slids":null,slids:[],nav:null};this.optAnimate={current:0,slide:0,scroll:0,total:0};this.init()};b.prototype.init=function(){this.construct();this.animate();this.settings.callback.loaded&&this.settings.callback.loaded(this)};b.prototype.construct=function(){var h=this,e=c(h.settings.slides,h.$this),g=0,f=0;h.settings.nwidth=(h.settings.nwidth=="auto")?e.outerWidth():h.settings.nwidth;var d=h.settings;h.arquitect["control-slids"]=c("<div />",{"class":d.content,css:{position:"relative"}});c(d.slides,h.$this).each(function(i,j){h.arquitect.slids.push(c(j));g=(g<=c(j).outerWidth(true))?c(j).outerWidth(true):g;f=f+c(j).outerWidth(true)});this.settings.totalw=f;h.settings.separate=(h.settings.separate=="auto")?(g-d.nwidth):h.settings.separate;c(d.slides,h.$this).appendTo(h.arquitect["control-slids"]);h.arquitect["control-slids"].appendTo(h.$this);if(h.arquitect.slids.length>0){h.arquitect["control-slids"].css({width:f,height:d.height})}if(d.nav){h.nav()}};b.prototype.nav=function(){var g=this,d=g.settings,f={},e=0;f["content-slids"]=c("<div />",{"class":"slids-content",style:"display:none"});f.scrollbar=c("<div />",{"class":"slids-scrollbar"});f.uiscroll=c("<div />",{"class":"slids-uiscroll"});f.navigate=c("<div />",{"class":"slids-navs"});f["nav-left"]=c("<a />",{"class":"slids-nleft disabled",title:"Anterior",href:"javascript:;"});f["nav-rigth"]=c("<a />",{"class":"slids-nrigth",title:"Siguiente",href:"javascript:;"});g.$this.append(f["content-slids"]);f["content-slids"].append(f.scrollbar).append(f.navigate);f.navigate.append(f["nav-left"]).append(f["nav-rigth"]);e=d.width-f.navigate.outerWidth(true);f.scrollbar.css("width",e).append(f.uiscroll);d.height=d.height+f["content-slids"].outerHeight(true);if(g.arquitect.slids.length>0){g.$this.css("height",d.height);f["content-slids"].show()}g.arquitect.nav=f};b.prototype.animate=function(){var g=this,e=g.settings,f=g.arquitect.nav,d=true;g.calcSlide();f["nav-left"].bind("click",function(){if(d&&!c(this).hasClass("disabled")){d=false;e.callback.start&&e.callback.start();g.animSlide(g,0,function(){d=true;e.callback.complete&&e.callback.complete()})}});f["nav-rigth"].bind("click",function(){if(d&&!c(this).hasClass("disabled")){d=false;e.callback.start&&e.callback.start();g.animSlide(g,1,function(){d=true;e.callback.complete&&e.callback.complete()})}})};b.prototype.calcSlide=function(){var j=this,i=j.arquitect.nav,g=j.settings.totalw,h=j.settings.width,f=j.settings.separate,e=j.settings.nwidth,d=0;d=a((h+f),(e+f));j.optAnimate.slide=d*(e+f);j.optAnimate.total=a(g,j.optAnimate.slide);j.optAnimate.scroll=Math.round(parseFloat(i.scrollbar.width())/(j.optAnimate.total+1));if(j.optAnimate.total==0){i["content-slids"].hide();(j.arquitect.slids.length>0)?j.$this.css("height",j.settings.initheight):j.$this.css("height","auto")}i.uiscroll.css("width",j.optAnimate.scroll)};b.prototype.animSlide=function(k,e,n){var j=k,g=j.settings,f=j.optAnimate,d=j.arquitect.nav,i=f.slide,h=(e)?f.current+1:f.current-1,l=i*h,m=(f.total!=h)?(f.scroll*h):(parseFloat(d.scrollbar.width())-parseFloat(d.uiscroll.css("width")));j.optAnimate.current=h;j.showSlide();j.arquitect["control-slids"].animate({left:(l==0)?0:-l},g.duration,g.easing,function(){n&&n()});d.uiscroll.animate({left:(m==0)?0:m},g.duration,g.easing)};b.prototype.showSlide=function(){var g=this,f=g.arquitect.nav,d=g.optAnimate.total,e=g.optAnimate.current;f["nav-left"].removeClass("disabled");f["nav-rigth"].removeClass("disabled");if(e==d){f["nav-rigth"].addClass("disabled")}if(e==0){f["nav-left"].addClass("disabled")}};b.prototype.addElement=function(e,k){var j=this,g=j.settings,d=j.arquitect,f,i=0,h=0;d["control-slids"].append(e.hide());d.slids.push(e);c.each(d.slids,function(l,m){h=(h<=m.outerWidth(true))?m.outerWidth(true):h;i=i+m.outerWidth(true)});j.settings.totalw=i;d["control-slids"].css({width:i,height:g.initheight});f=c(j.settings.slides,j.$this);j.settings.nwidth=f.outerWidth();j.settings.separate=h-j.settings.nwidth;e.show(600,function(){j.calcSlide();k&&k()})};b.prototype.removeElement=function(e,k){var j=this,g=j.settings,d=j.arquitect,f,i=0,h=0;e.hide(600,function(){e.remove();j.arquitect.slids=[];f=c(j.settings.slides,j.$this);f.each(function(l,m){j.arquitect.slids.push(c(m));h=(h<=c(m).outerWidth(true))?c(m).outerWidth(true):h;i=i+c(m).outerWidth(true)});j.settings.totalw=i;j.settings.nwidth=f.outerWidth();j.settings.separate=h-j.settings.nwidth;d["control-slids"].css("width",i);if(f.length<=g.num){d["control-slids"].css("height",g.initheight);d.nav["content-slids"].hide();if(f.length==0){d["control-slids"].css("height","auto");j.$this.css("height","auto")}}else{j.$this.css("height",g.height)}j.calcSlide();k&&k()})};c.fn.Slidejs=function(d){if(typeof d=="undefined"||d.constructor==Object){return new b(this,d)}else{c.error("El parametro proporcionado "+method+" esta mal declarado o no es un objeto")}}})(jQuery);
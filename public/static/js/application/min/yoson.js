var fnyOSON={copy:function(b,c){for(var a=0;a<c.length;a++){b.push(c[a])}return b},remove:function(b,d,c){var a=b.slice((c||d)+1||b.length);b.length=d<0?b.length+d:d;b.push.apply(b,a);return b},inArray:function(b){for(var a in b){if(b[a]==arguments[0]){return true}}return false}};yOSON.AppSandbox=function(){return{trigger:function(d,a){var c;if(typeof(yOSON.AppSandbox.aActions[d])!="undefined"){var b=yOSON.AppSandbox.aActions[d].length;while(b--){c=yOSON.AppSandbox.aActions[d][b];c.handler.apply(c.module,a)}}else{log("Action["+d+"]: No existe!")}},stopEvents:function(h,d){var c=[];var g=h.length;for(var a=0;a<g;a++){var f=h[a];var b=yOSON.AppSandbox.aActions[f].length;for(var e=0;e<b;e++){if(d!=yOSON.AppSandbox.aActions[f][e].module){c.push(yOSON.AppSandbox.aActions[f][e])}}yOSON.AppSandbox.aActions[f]=c;if(yOSON.AppSandbox.aActions[f].length==0){delete yOSON.AppSandbox.aActions[f]}}},events:function(f,a,c){var e=f.length;for(var b=0;b<e;b++){var d=f[b];if(typeof yOSON.AppSandbox.aActions[d]=="undefined"){yOSON.AppSandbox.aActions[d]=[]}yOSON.AppSandbox.aActions[d].push({module:c,handler:a})}return this},objMerge:function(){var a={},c=arguments.length;if(!c){return a}while(--c){for(var b in arguments[c]){a[b]=arguments[c][b]}}return a},request:function(c,d,a,b){Core.ajaxCall(c,d,a,b)}}};yOSON.AppSandbox.aActions=[];yOSON.AppScript=(function(b,h){var g="";var c="";var e="";var j={};(function(m,l){g=m+"js/";c=m+"styles/";e=(true)?l:""})(b,typeof(h)!=="undefined"?h:"");var k=function(l){return(l.indexOf("//")!=-1)?l.split("//")[1].split("?")[0].replace(/[\/\.\:]/g,"_"):l.split("?")[0].replace(/[\/\.\:]/g,"_")};var f=function(l,m){if(!j.hasOwnProperty(k(l))){j[k(l)]={state:true,fncs:[]}}j[k(l)].fncs.push(m)};var d=function(l){j[k(l)].state=false;for(var m=0;m<j[k(l)].fncs.length;m++){if(j[k(l)].fncs[m]=="undefined"){log(j[k(l)].fncs[m])}j[k(l)].fncs[m]()}};var a=function(l,n){var m=document.createElement("script");m.type="text/javascript";if(m.readyState){m.onreadystatechange=function(){if(m.readyState=="loaded"||m.readyState=="complete"){m.onreadystatechange=null;n(l)}}}else{m.onload=function(){n(l)}}m.src=l;document.getElementsByTagName("head")[0].appendChild(m)};var i=function(m,o){var n=document.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=m;document.getElementsByTagName("head")[0].appendChild(n);if(document.all){n.onload=function(){o(m)}}else{var l=document.createElement("img");l.onerror=function(){if(o){o(m)}document.body.removeChild(this)};document.body.appendChild(l);l.src=m}};return{charge:function(s,l,r,n){var q=this;if(s.length==0||s=="undefined"||s==""){return false}if(s.constructor.toString().indexOf("Array")!=-1&&s.length==1){var s=s[0]}var n=(typeof(n)!="number")?1:n;if(s.constructor.toString().indexOf("String")!=-1){var t=(s.indexOf(".js")!=-1);var p=(s.indexOf(".css")!=-1);if(!t&&!p){return false}var o=s.split("/");o[o.length-1]=((yOSON.min!=="undefined"&&t)?yOSON.min:"")+o[o.length-1];s=o.join("/");var m=t?g:c;if(t||p){var s=(s.indexOf("http")!=-1)?(s+e):(m+s+e+(p?(new Date().getTime()):""));if(!j.hasOwnProperty(k(s))){f(s,l);t?a(s,d):i(s,d)}else{if(j[k(s)].state){f(s,l)}else{l()}}}}else{if(s.constructor.toString().indexOf("Array")!=-1){this.charge(s[0],function(){q.charge(fnyOSON.remove(s,0),l,r,(n+2))},r,(n+1))}else{log(s+" - no es un Array")}}}}})(yOSON.statHost,yOSON.statVers);yOSON.AppCore=(function(){var d=new yOSON.AppSandbox();var b={};var a=false;window.cont=0;var c=function(g){var e=b[g].definition(d);var f,h;if(!a){for(f in e){h=e[f];if(typeof h=="function"){e[f]=function(i,j){return function(){try{return j.apply(this,arguments)}catch(k){log(i+"(): "+k.message)}}}(f,h)}}}return e};return{addModule:function(e,g,f){var f=(typeof(f)=="undefined")?[]:f;if(typeof(b[e])=="undefined"){b[e]={definition:g,instance:null,dependency:f}}else{throw'module "'+e+'" is already defined, Please set it again';if(/(local)/gi.test(document.baseURI)){alert("["+e+"] ya existe!! crea otro crjo!!!")}}},getModule:function(e){if(e&&b[e]){return b[e]}else{throw'structureline58 param "sModuleId" is not defined or module not found'}},runModule:function(g,e){if(b[g]!==undefined){if(e===undefined){var e={}}e.moduleName=g;var f=this.getModule(g);var h=f.instance=c(g);if(h.hasOwnProperty("init")){if(f.dependency.length>0){yOSON.AppScript.charge(fnyOSON.copy([],f.dependency),function(){h.init(e)},g+window.cont,1)}else{h.init(e)}}else{throw' ---> init function is not defined in the module "'+b[g]+'"'}}else{throw'module "'+g+'" is not defined or module not found'}},runModules:function(e){for(var f in e){this.runModule(e[f])}}}})();